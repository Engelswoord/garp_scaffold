<?php
/* This file was generated by Garp_Spawn_Php_Model_Base - do not edit */
class Model_Base_Video extends Garp_Model_Db {
	protected $_name = 'video';

	protected $_primary = 'id';

	protected $_configuration = array('id' => 'Video', 'order' => 'created DESC', 'label' => 'Video', 'description' => null, 'route' => null, 'creatable' => true, 'deletable' => true, 'quickAddable' => true, 'comment' => null, 'visible' => true, 'module' => 'garp', 'fields' => array(array('name' => 'id', 'required' => true, 'type' => 'numeric', 'maxLength' => 8, 'multiline' => null, 'label' => 'Id', 'editable' => false, 'visible' => false, 'default' => null, 'primary' => true, 'unique' => false, 'info' => null, 'index' => true, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'identifier', 'required' => true, 'type' => 'text', 'maxLength' => 100, 'multiline' => false, 'label' => 'Identifier', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => true, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'type', 'required' => true, 'type' => 'enum', 'maxLength' => null, 'multiline' => null, 'label' => 'Type', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array('youtube', 'vimeo'), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'is_homepage_video', 'required' => false, 'type' => 'checkbox', 'maxLength' => null, 'multiline' => null, 'label' => 'Is homepage video', 'editable' => true, 'visible' => true, 'default' => 0, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'is_english_video', 'required' => false, 'type' => 'checkbox', 'maxLength' => null, 'multiline' => null, 'label' => 'Is english video', 'editable' => true, 'visible' => true, 'default' => 0, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'name', 'required' => false, 'type' => 'text', 'maxLength' => 124, 'multiline' => false, 'label' => 'Name', 'editable' => true, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'description', 'required' => false, 'type' => 'html', 'maxLength' => null, 'multiline' => true, 'label' => 'Description', 'editable' => true, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => true, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'player', 'required' => false, 'type' => 'text', 'maxLength' => 100, 'multiline' => false, 'label' => 'Player', 'editable' => true, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'url', 'required' => true, 'type' => 'url', 'maxLength' => 100, 'multiline' => false, 'label' => 'Url', 'editable' => true, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'duration', 'required' => false, 'type' => 'numeric', 'maxLength' => null, 'multiline' => null, 'label' => 'Duration', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'tags', 'required' => false, 'type' => 'text', 'maxLength' => 255, 'multiline' => true, 'label' => 'Tags', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'image', 'required' => false, 'type' => 'text', 'maxLength' => 100, 'multiline' => false, 'label' => 'Image', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'thumbnail', 'required' => false, 'type' => 'text', 'maxLength' => 100, 'multiline' => false, 'label' => 'Thumbnail', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'video_author', 'required' => false, 'type' => 'text', 'maxLength' => 100, 'multiline' => false, 'label' => 'Video author', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'config', 'relationType' => null), array('name' => 'slug', 'required' => false, 'type' => 'text', 'maxLength' => 255, 'multiline' => false, 'label' => 'Slug', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => true, 'info' => null, 'index' => true, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'behavior', 'relationType' => null), array('name' => 'created', 'required' => true, 'type' => 'datetime', 'maxLength' => null, 'multiline' => null, 'label' => 'Created', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'behavior', 'relationType' => null), array('name' => 'modified', 'required' => true, 'type' => 'datetime', 'maxLength' => null, 'multiline' => null, 'label' => 'Modified', 'editable' => false, 'visible' => true, 'default' => null, 'primary' => false, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'behavior', 'relationType' => null), array('name' => 'author_id', 'required' => false, 'type' => 'numeric', 'maxLength' => null, 'multiline' => null, 'label' => 'Created by', 'editable' => false, 'visible' => false, 'default' => null, 'primary' => null, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'relation', 'relationType' => 'hasOne'), array('name' => 'modifier_id', 'required' => false, 'type' => 'numeric', 'maxLength' => null, 'multiline' => null, 'label' => 'Modified by', 'editable' => false, 'visible' => false, 'default' => null, 'primary' => null, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'relation', 'relationType' => 'hasOne'), array('name' => 'placeholder_image_id', 'required' => false, 'type' => 'numeric', 'maxLength' => null, 'multiline' => null, 'label' => 'Placeholder image', 'editable' => false, 'visible' => false, 'default' => null, 'primary' => null, 'unique' => false, 'info' => null, 'index' => null, 'multilingual' => false, 'comment' => null, 'wysiwyg' => false, 'options' => array(), 'float' => false, 'unsigned' => true, 'rich' => false, 'origin' => 'relation', 'relationType' => 'hasOne')), 'behaviors' => array(), 'relations' => array('Author' => array('model' => 'User', 'name' => 'Author', 'type' => 'hasOne', 'label' => 'Created by', 'limit' => 1, 'column' => 'author_id', 'simpleSelect' => null, 'max' => null, 'paginated' => null, 'multilingual' => null, 'primary' => null, 'info' => null, 'visible' => true, 'editable' => true, 'inverse' => false, 'oppositeRule' => 'Author', 'inverseLabel' => 'Video', 'weighable' => false, 'required' => false, 'inputs' => null, 'inline' => false, 'mirrored' => false, 'bindingModel' => false), 'Modifier' => array('model' => 'User', 'name' => 'Modifier', 'type' => 'hasOne', 'label' => 'Modified by', 'limit' => 1, 'column' => 'modifier_id', 'simpleSelect' => null, 'max' => null, 'paginated' => null, 'multilingual' => null, 'primary' => null, 'info' => null, 'visible' => true, 'editable' => false, 'inverse' => false, 'oppositeRule' => 'Modifier', 'inverseLabel' => 'Video', 'weighable' => false, 'required' => false, 'inputs' => null, 'inline' => false, 'mirrored' => false, 'bindingModel' => false), 'PlaceholderImage' => array('model' => 'Image', 'name' => 'PlaceholderImage', 'type' => 'hasOne', 'label' => 'Placeholder Image', 'limit' => 1, 'column' => 'placeholder_image_id', 'simpleSelect' => null, 'max' => null, 'paginated' => null, 'multilingual' => null, 'primary' => null, 'info' => null, 'visible' => true, 'editable' => true, 'inverse' => true, 'oppositeRule' => 'PlaceholderImage', 'inverseLabel' => 'Video', 'weighable' => false, 'required' => false, 'inputs' => null, 'inline' => false, 'mirrored' => false, 'bindingModel' => false)), 'unique' => null);

	protected $_listFields = array('name');

	protected $_jointView = 'video_joint';

	protected $_defaultOrder = 'created DESC';

	protected $_bindable = array(
		'Model_Image',
		'Model_User'
	);

	protected $_referenceMap = array(
		'Author' => array(
			'refTableClass' => 'Model_User',
			'columns' => 'author_id',
			'refColumns' => 'id'
		),
		'Modifier' => array(
			'refTableClass' => 'Model_User',
			'columns' => 'modifier_id',
			'refColumns' => 'id'
		),
		'PlaceholderImage' => array(
			'refTableClass' => 'Model_Image',
			'columns' => 'placeholder_image_id',
			'refColumns' => 'id'
		)
	);


	public function init() {
		parent::init();
		$this->registerObserver(new Garp_Model_Behavior_Videoable(array()));
		$this->registerObserver(new Garp_Model_Behavior_Sluggable(array('baseField' => 'name', 'slugField' => 'slug')));
		$this->registerObserver(new Garp_Model_Behavior_Timestampable());
		$this->registerObserver(new Garp_Model_Behavior_Authorable());
		$this->registerObserver(new Garp_Model_Behavior_HtmlFilterable(array('description')));
		$this->registerObserver(new Garp_Model_Validator_NotEmpty(array('identifier', 'type', 'url', 'created', 'modified')));
		$this->registerObserver(new Garp_Model_Behavior_Truncatable(array('columns' => array('identifier' => 100, 'name' => 124, 'player' => 100, 'url' => 100, 'tags' => 255, 'image' => 100, 'thumbnail' => 100, 'video_author' => 100, 'slug' => 255))));
	}

}